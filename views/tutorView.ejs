<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Tut-Tut Account</title>
  <link rel="icon" type="image/vnd.microsoft.icon" href="images/favicon.ico" />
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <!-- css sheet -->
  <link rel="stylesheet" href="css/tutorView.css">
</head>



<body>



  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <a href="/"><img src="images/train-logo.png" alt="" height="105" style="padding-top: 5px;" width="140" class="logo noselect"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item mid-button ourTutorNav">
          <a class="nav-link" href="">About Us</a>
        </li>
        <li class="nav-item right-button ">
          <form action="/logout" method="post">
            <button type="submit" class="btn btn-primary shadow">Sign Out</button>
          </form>
        </li>
      </ul>
    </div>
  </nav>

  <div class="mainBody">

    <div class="collapsableDiv">
      <label type="button" class="noselect btn btn-primary btn-lg collapsible">
        <p class="dropDownButtonText">Create A Tutoring Session</p>
      </label>
      <div class="content">

        <form class="" action="/addTutorTimeSlot" method="post">
          <div class="form-border">
            <p>Please only select dates that are greater than today</p>
              <div class="formTextInput">
                <div class="DateSelect">
                  <p class="formText">Available Date (PT):</p>
                  <input class="" id="calendarPicker" type="date" name="date" maxlength="" placeholder="yyyy/dd/mm" pattern="(^(((0[1-9]|1[0-9]|2[0-8])[\/](0[1-9]|1[012]))|((29|30|31)[\/](0[13578]|1[02]))|((29|30)[\/](0[4,6,9]|11)))[\/](19|[2-9][0-9])\d\d$)|(^29[\/]02[\/](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)" required checked>
                  <br>
                </div>
                <div class="timeText">
                  <p>Select the range of time that you are available. Your 45 minute tutoring session will fall sometime between the start and end time.</p>
                </div>

                <div class="startTime">
                  <p class="formText">Start time:</p>
                  <select id="startTimeDD" name="time" required>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                  </select>
                  <select id="startTimeAmPmDD" name="amPm">
                    <option value="AM">AM</option>
                    <option value="PM">PM</option>
                  </select>
                </div>
                <div class="endTime">
                  <p class="formText">End time:</p>
                  <select id="endTimeDD" name="endTime" required>
                    <option value="1">1</option>
                    <option value="1">2</option>
                    <option value="1">3</option>
                    <option value="1">4</option>
                    <option value="1">5</option>
                    <option value="1">6</option>
                    <option value="1">7</option>
                    <option value="1">8</option>
                    <option value="1">9</option>
                    <option value="1">10</option>
                    <option value="1">11</option>
                    <option value="1">12</option>
                  </select>
                  <select class="endTimeAmPmDD" name="endAmPm">
                    <option id="endTimeAm"value="AM">AM</option>
                    <option value="PM">PM</option>
                  </select>
                </div>

                <hr class="invHr">
              </div>
              <h5>Which subjects would you want to tutor:</h5>

              <div class="formTextInput">
                <p class="formText">Math:</p>
                <input class="subjectCheck" id="" type="checkbox" name="Math" maxlength="" checked>
                <hr class="invHr">
              </div>
              <div class="formTextInput">
                <p class="formText">English:</p>
                <input class="subjectCheck" id="" type="checkbox" name="English" maxlength="" checked>
                <hr class="invHr">
              </div>
              <div class="formTextInput">
                <p class="formText">Science:</p>
                <input class="subjectCheck" id="" type="checkbox" name="Science" maxlength="" checked>
                <hr class="invHr">
              </div>
              <div class="formTextInput">
                <p class="formText">History:</p>
                <input class="subjectCheck" id="" type="checkbox" name="History" maxlength="" checked>
                <hr class="invHr">
              </div>
              <button type="submit" id="tutorSubmit" name="button">Submit</button>

          </div>
        </form>

  </div>
</div>




  </div>

  <div class="tables">
   <section>
     <!--for demo wrap-->
     <h1 class="tableHeader noselect">Tutor Sessions:</h1>
     <div class="tbl-header1">
       <table cellpadding="0" cellspacing="0" border="0" style="border-radius: 100px;">
         <thead>
           <tr class="headTR">
             <th>Date</th>
             <th>Time (PT)</th>
             <th>Subject</th>
             <th>Student</th>
             <th>Grade</th>
             <th>Student Email</th>
             <th>Note</th>
             <th>Virtual Classroom</th>
             <th>Status</th>
             <th>Cancel</th>
           </tr>
         </thead>
       </table>
     </div>
     <div class="tbl-content">
       <table cellpadding="0" cellspacing="0" border="0" class=""> <!-- tutorSessionsTable -->
         <%yourTutorRequests.forEach(function(msg){%>

                     <tbody>
                       <tr class="tutorSessionTR">

                         <td class="tutorSessionTD"><%=msg.startDateString%></td>
                         <td class="tutorSessionTD"><%=msg.startTimeString%></td>

                         <td class="tutorSessionTD"><%=msg.subject%> / <%=msg.subTopic%></td>
                         <td class="tutorSessionTD"><%=msg.studentName%></td>
                         <td class="tutorSessionTD"><%=msg.grade%></td>
                         <td class="tutorSessionTD"><%=msg.studentUsername%></td>
                         <%if(msg.note.length == 0){}else{var previewNote = msg.note.substring(0,20) + "..."}%>
                         <td class="tutorSessionTD"><a href="" id="noteText" onclick="return alert('<%=msg.note%>')"><%=previewNote%></a></td>
                         <td class="tutorSessionTD"><a href="<%=msg.vcLink%>">Zoom Link</a></td>
                         <td class="tutorSessionTD"><%=msg.status%></td>
                         <%if(msg.status === "Canceled" || msg.status === "Completed"){%>
                         <form id="cancelForm" action="/cancelSessionTutor" method="post">
                           <td><input type="submit" value="Cancel" disabled onclick="return confirm('Are you sure you want to cancel this session?')" /></td>
                           <input type="hidden" name="msgID" value="<%=msg._id%>">
                         </form>
                         <%}else{%>
                         <form id="cancelForm" action="/cancelSessionTutor" method="post">
                           <td><input type="submit" value="Cancel" onclick="return confirm('Are you sure you want to cancel this session?')" /></td>
                           <input type="hidden" name="msgID" value="<%=msg._id%>">
                         </form>
                         <%}%>
             </tr>
         <%})%>
                   </table>
                 </div>
                 </section>
               </div>









              <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
              <script src="tutorView.js"></script>
</body>

</html>
